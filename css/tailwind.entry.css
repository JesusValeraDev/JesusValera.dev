/* === css/theme.css === */
@import 'tailwindcss';

@source '../content/**/*.md';

@custom-variant dark (&:is(.dark *));

@theme {
  --color-light-bg: #fcfcfd;
  --color-dark-bg: #161e32;
  --color-light-text-primary: #374151;
  --color-light-text-secondary: #4b5563;
  --color-light-text-accent: #00a3f1;
  --color-light-link: #3b82f6;
  --color-dark-text-primary: #cbd5e1;
  --color-dark-text-secondary: #a1a1aa;
  --color-dark-text-accent: #60a5fa;
  --color-dark-link: #70acf6;
  --color-light-border: #e5e7eb;
  --color-dark-border: #334155;
  --color-dark-header-footer-border: #1f2937;
  --color-dark-header-bg: #0f172acc;
  --color-light-catalogue-bg: #fefefe;
  --color-light-catalogue-item-bg: #fff;
  --color-dark-catalogue-bg: #1b2638;
  --color-dark-catalogue-item-bg: #1b2537;
  --color-light-code-bg: rgba(27, 31, 35, 0.05);
  --color-light-code-inline-bg: #1b1f230d;
  --color-dark-code-bg: #0f162b;
  --color-dark-code-inline-bg: #2d2d2d;
  --color-light-blockquote-bg: #eff6ff;
  --color-light-blockquote-border: #3b82f6;
  --color-dark-blockquote-bg: #0f172a;
  --color-dark-blockquote-border: #334155;
  --color-light-timeline-bg: #00a3f1;
  --color-dark-timeline-bg: #3b82f6;
  --color-light-current-badge-bg: rgba(34, 197, 94, 0.2);
  --color-light-current-badge-text: #166534;
  --color-dark-current-badge-bg: rgb(20 83 45);
  --color-dark-current-badge-text: #73ffa9;

  --font-inter:
    Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue,
    Arial, sans-serif;
  --font-mono:
    ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas,
    Liberation Mono, Courier New, monospace;

  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;
  --text-4xl: 2.25rem;
  --text-5xl: 3rem;
  --text-body: 1.125rem;

  --leading-relaxed: 1.6;

  --container-content: 56rem;
  --container-catalogue-image: 250px;

  --min-height-catalogue-card: 140px;
  --min-height-catalogue-image-mobile: 200px;

  --height-book-cover: 380px;
  --height-book-cover-md: 450px;
  --height-book-cover-sm: 500px;

  --width-catalogue-image: 250px;

  --backdrop-blur-header: 6px;

  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-card-hover:
    0 4px 6px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-card-dark-hover:
    0 2px 4px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2);
  --shadow-button-hover: 0 4px 12px rgba(0, 0, 0, 0.15);
  --shadow-button-secondary-hover: 0 4px 8px rgba(0, 0, 0, 0.1);

  --transition-duration-150: 150ms;

  --ease-custom: cubic-bezier(0.4, 0, 0.2, 1);
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility font-variant-numeric-oldstyle {
  font-variant-numeric: oldstyle-nums;
}


/* === css/base.css === */
@layer base {
  @font-face {
    font-family: 'Inter';
    src: url('/Inter-Variable.woff2') format('woff2-variations');
    font-weight: 100 900;
    font-style: normal;
    font-display: swap;
  }
  html { @apply scroll-smooth leading-relaxed bg-light-bg dark:bg-dark-bg; -webkit-text-size-adjust: 100%; -moz-tab-size: 4; tab-size: 4; }
  *,::after,::before { @apply box-border border-0 border-solid border-light-border dark:border-dark-border; }
  body { @apply font-inter text-body leading-relaxed min-h-screen m-0 bg-light-bg dark:bg-dark-bg text-light-text-primary dark:text-dark-text-primary font-variant-numeric-oldstyle antialiased transition-colors duration-150 ease-custom; -moz-osx-font-smoothing: grayscale; }
  a { @apply text-light-link dark:text-dark-link underline transition-colors duration-150 ease-custom; text-decoration-color: rgba(59,130,246,0.3); }
  .dark a { text-decoration-color: rgba(112,172,246,0.3); }
  a:hover { @apply text-light-text-primary dark:text-dark-text-primary underline; text-decoration-color: currentColor; }
  h2 { @apply mb-4; }
  ul,ol { @apply list-inside pl-5 text-light-text-primary dark:text-dark-text-primary; }
  ul { @apply list-disc; }
  ol { @apply list-decimal; }
  li { @apply my-1.5; }
  li::marker { @apply text-light-text-primary dark:text-dark-text-primary; }
  img { @apply block mx-auto my-4 max-w-full; }
  blockquote { @apply p-2 px-4 bg-light-blockquote-bg dark:bg-dark-blockquote-bg border-l-4 border-light-blockquote-border dark:border-dark-blockquote-border mb-6 mx-3; }
  .separator { @apply w-1/5 border-t-8 border-dotted border-light-border dark:border-dark-border my-12 mx-auto; }
  
  /* Revert Tailwind Preflight margin:0 for headings and text elements */
  blockquote, dd, dl, figure, h1, h2, h3, h4, h5, h6, hr, p, pre { margin: revert; }

  /* Reset text selection to system default-like colors */
  ::selection { background: rgba(180, 213, 255, 0.6); color: inherit; }
  ::-moz-selection { background: rgba(180, 213, 255, 0.6); color: inherit; }

  :root { --border: theme('colors.light-border'); }
  .dark { --border: theme('colors.dark-border'); }

  /* Accessible focus styles for keyboard navigation */
  a:focus-visible,
  button:focus-visible,
  .top:focus-visible { outline: 2px solid theme('colors.light-text-primary'); outline-offset: 3px; border-radius: 6px; }
  .dark a:focus-visible,
  .dark button:focus-visible,
  .dark .top:focus-visible { outline: 2px solid theme('colors.dark-text-primary'); outline-offset: 3px; border-radius: 6px; }
}


/* === css/components/base.css === */
@utility card-base {
  @apply shadow-card bg-light-catalogue-item-bg dark:bg-dark-catalogue-item-bg rounded-xl overflow-hidden;
  transition-property: transform, box-shadow, background-color;
  transition-duration: 300ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  &:hover {
    @apply bg-light-catalogue-bg dark:bg-dark-catalogue-bg shadow-card-hover;
  }
  .dark &:hover {
    @apply shadow-card-dark-hover;
  }
}

@utility dark {
  & .card-base:hover {
    @apply shadow-card-dark-hover;
  }
}

@utility container-custom {
  @apply max-w-content mx-auto px-6 md:px-4;
}

@utility badge {
  /* Badges */
  @apply px-3 py-1 text-xs font-medium leading-none rounded-xl inline-block;
}

@utility badge-overlay {
  @apply badge absolute top-3 right-2 bg-black/70 text-white backdrop-blur-sm z-10;
}

@utility top {
  /* Scroll to top button */
  @apply fixed bottom-6 right-6 z-50 inline-flex items-center justify-center w-10 h-10 text-light-text-secondary dark:text-dark-text-secondary transition-opacity;
  &:hover {
    @apply text-light-text-primary dark:text-dark-text-primary;
  }
  & svg {
    @apply w-full h-full;
  }
}

@utility header-fixed-md {
  /* Header fixed only on md and up; normal flow on mobile */
  position: static;
  left: auto;
  right: auto;
  top: auto;
  @media (min-width: 768px) {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }
}

@utility main-offset-md {
  padding-top: 0;

  @media (min-width: 768px) {
    body & {
      padding-top: 6rem;
    }
  }
}


/* === css/components/catalogue.css === */
@utility catalogue {
  contain: layout;
}

@utility catalogue-link {
  @apply block no-underline text-inherit my-6;
  &:hover {
    @apply no-underline;
  }
  &:hover .catalogue-cta .arrow {
    @apply transform translate-x-0.5;
  }
}

@utility catalogue-cta {
  .catalogue-link:hover & .arrow {
    @apply transform translate-x-0.5;
  }
  @apply text-sm font-semibold leading-none text-light-link dark:text-dark-link inline-flex items-center mt-auto;
  & .arrow {
    @apply inline-block ml-1 transition-transform duration-150 ease-custom;
  }
}

@utility arrow {
  .catalogue-link:hover .catalogue-cta & {
    @apply transform translate-x-0.5;
  }
  .catalogue-cta & {
    @apply inline-block ml-1 transition-transform duration-150 ease-custom;
  }
}

@utility catalogue-card {
  @apply card-base flex min-h-catalogue-card border-b border-light-border dark:border-dark-border;
  contain: layout style paint;
  will-change: transform;
  overflow: hidden;
  @media (max-width: 768px) {
    @apply flex-col min-h-0;
  }
}

@utility catalogue-image {
  @apply shrink-0 w-catalogue-image h-auto min-h-catalogue-card bg-cover bg-center bg-no-repeat bg-light-catalogue-bg dark:bg-dark-catalogue-bg overflow-hidden;
  @media (max-width: 768px) {
    @apply w-full min-h-catalogue-image-mobile;
  }
}

@utility catalogue-text {
  @apply flex-1 flex flex-col justify-between p-6 min-w-0;
  contain: layout style;
  @media (max-width: 768px) {
    @apply p-5;
  }
}

@utility catalogue-meta {
  @apply mb-3 flex justify-between items-start gap-4 flex-wrap;
  & time {
    @apply flex gap-6;
  }
  @media (max-width: 480px) {
    & time {
      @apply gap-6;
    }
  }
  & .day {
    @apply text-sm font-medium leading-relaxed text-light-text-secondary dark:text-dark-text-secondary inline-flex items-center gap-1;
  }
  & .reading {
    @apply text-sm font-medium leading-relaxed text-light-text-secondary dark:text-dark-text-secondary inline-flex items-center gap-1;
  }
  & .day svg {
    @apply w-3 h-3 shrink-0;
  }
  & .reading svg {
    @apply w-3 h-3 shrink-0;
  }
  @media (max-width: 768px) {
    & svg {
      width: 10px;
      height: 10px;
    }
  }
}

@utility day {
  .catalogue-meta & {
    @apply text-sm font-medium leading-relaxed text-light-text-secondary dark:text-dark-text-secondary inline-flex items-center gap-1;
  }
  .catalogue-meta & svg {
    @apply w-3 h-3 shrink-0;
  }
}

@utility reading {
  .catalogue-meta & {
    @apply text-sm font-medium leading-relaxed text-light-text-secondary dark:text-dark-text-secondary inline-flex items-center gap-1;
  }
  .catalogue-meta & svg {
    @apply w-3 h-3 shrink-0;
  }
}

@utility catalogue-tags {
  @apply flex flex-wrap gap-2 items-center;
}

@utility tag-pill {
  @apply text-xs font-medium leading-none bg-light-catalogue-bg dark:bg-dark-catalogue-bg text-light-text-secondary dark:text-dark-text-secondary border border-light-border dark:border-dark-border rounded-2xl px-3 py-1 whitespace-nowrap;
}

@utility catalogue-title {
  @apply text-xl font-bold leading-tight text-light-text-primary dark:text-dark-text-primary m-0 mb-2;
  @media (max-width: 768px) {
    @apply text-lg leading-snug;
  }
}

@utility catalogue-subtitle {
  @apply text-base font-normal leading-relaxed text-light-text-secondary dark:text-dark-text-secondary m-0 mb-6 opacity-90 flex-grow;
}


/* === css/components/books.css === */
@utility reading-description {
  @apply text-base md:text-lg text-light-text-primary dark:text-dark-text-primary mb-6 leading-snug font-normal max-w-4xl mx-auto text-center;
  font-style: italic;
  padding: 1rem 0;
}

@utility book-statistics {
  @apply pt-6;
  & .stats-grid-enhanced {
    @apply grid gap-4;
    grid-template-columns: repeat(4, 1fr);
  }
  & .stat-item {
    @apply flex flex-col text-center p-4 border border-gray-300 dark:border-gray-600 rounded-lg;
  }
  & .stat-label {
    @apply text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1;
  }
  & .stat-number {
    @apply text-2xl font-bold text-light-text-primary dark:text-dark-text-primary;
  }
  @media (max-width: 768px) {
    & .stats-grid-enhanced {
      grid-template-columns: repeat(2, 1fr);
      @apply gap-3;
    }
  }
}

@utility book-intro {
  @apply text-left;
}

@utility stats-title {
  @apply text-lg font-semibold text-light-text-primary dark:text-dark-text-primary text-center block;
}

@utility stats-grid-enhanced {
  .book-statistics & {
    @apply grid gap-4;
    grid-template-columns: repeat(4, 1fr);
  }
  @media (max-width: 768px) {
    .book-statistics & {
      grid-template-columns: repeat(2, 1fr);
      @apply gap-3;
    }
  }
}

@utility stat-item {
  .book-statistics & {
    @apply flex flex-col text-center p-4 border border-gray-300 dark:border-gray-600 rounded-lg;
  }
}

@utility stat-label {
  .book-statistics & {
    @apply text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1;
  }
}

@utility stat-number {
  .book-statistics & {
    @apply text-2xl font-bold text-light-text-primary dark:text-dark-text-primary;
  }
}

@utility book-info {
  @apply card-base rounded-xl p-4 mb-12 text-center;
}

@utility books {
  @apply grid gap-8 max-w-6xl mx-auto;
  grid-template-columns: repeat(3, 1fr);
  contain: layout;
  @media (max-width: 719px) {
    grid-template-columns: repeat(2, 1fr);
    @apply gap-6;
  }
  @media (max-width: 639px) {
    grid-template-columns: 1fr;
    @apply gap-6;
  }
}

@utility book-item {
  @apply card-base flex flex-col h-full;
  transition-property: transform, box-shadow, background-color;
  transition-duration: 300ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0, 0.2, 1);
  contain: layout style paint;
  will-change: transform;
  &:hover {
    @apply bg-light-catalogue-bg dark:bg-dark-catalogue-bg;
  }
  @media (max-width: 639px) {
    @apply max-w-sm w-full mx-auto;
  }
}

@utility book-cover {
  @apply relative w-full h-book-cover overflow-hidden bg-light-catalogue-bg dark:bg-dark-catalogue-bg;
  contain: layout style paint;
  will-change: transform;
  @media (max-width: 719px) {
    @apply h-book-cover-md;
  }
  @media (max-width: 639px) {
    @apply h-book-cover-sm;
  }
  & img {
    @apply block w-full h-full object-cover object-center transition-transform duration-150 ease-custom m-0;
  }
  & .date {
    @apply badge-overlay;
  }
}

@utility date {
  .book-cover & {
    @apply badge-overlay;
  }
}

@utility book-content {
  @apply p-6 flex-1 flex flex-col justify-between text-center;
  & .title {
    @apply text-lg font-bold leading-snug text-light-text-primary dark:text-dark-text-primary mb-2;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  & .author {
    @apply text-sm font-normal leading-relaxed text-light-text-secondary dark:text-dark-text-secondary mb-1;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

@utility title {
  .book-content & {
    @apply text-lg font-bold leading-snug text-light-text-primary dark:text-dark-text-primary mb-2;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

@utility author {
  .book-content & {
    @apply text-sm font-normal leading-relaxed text-light-text-secondary dark:text-dark-text-secondary mb-1;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

@utility book-tags {
  @apply flex flex-wrap justify-center gap-y-3 gap-x-2 mb-8;
  & button {
    @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold leading-none uppercase tracking-wide bg-light-catalogue-bg dark:bg-dark-catalogue-bg text-light-text-secondary dark:text-dark-text-secondary border-2 border-light-border dark:border-dark-border rounded-full cursor-pointer transition-colors duration-150 ease-custom hover:bg-light-catalogue-item-bg dark:hover:bg-dark-catalogue-item-bg hover:text-light-text-primary dark:hover:text-dark-text-primary hover:border-light-text-secondary dark:hover:border-dark-text-secondary whitespace-nowrap;
  }
  & button svg {
    @apply shrink-0;
  }
  & button[selected='true'] {
    @apply bg-light-text-primary dark:bg-dark-text-primary text-light-bg dark:text-dark-bg border-2 border-light-text-primary dark:border-dark-text-primary;
  }
  & button[selected='true']:hover {
    @apply bg-light-text-secondary dark:bg-dark-text-secondary border-2 border-light-text-secondary dark:border-dark-text-secondary;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
  & button[selected='true'] svg {
    @apply text-light-bg dark:text-dark-bg;
  }
}

@layer components {
  #reading-collection { @apply text-xl md:text-2xl font-semibold mb-4; }
  #books-section { @apply text-xl md:text-2xl font-semibold mb-4; }
}


/* === css/components/cv.css === */
@utility cv-header {
  @apply max-w-4xl mx-auto text-center;
  & .profile-photo img {
    @apply w-32 h-32 rounded-full object-cover shadow-lg;
  }
}

@utility profile-photo {
  @apply hidden md:flex justify-center;
  .cv-header & img {
    @apply w-32 h-32 rounded-full object-cover shadow-lg;
  }
}

@utility profile-name {
  @apply text-3xl md:text-4xl font-bold text-light-text-primary dark:text-dark-text-primary my-0;
  letter-spacing: -0.025em;

  @media (max-width: 640px) {
    @apply text-3xl;
  }
}

@utility profile-title {
  @apply text-lg md:text-xl text-light-text-secondary dark:text-dark-text-secondary my-2 font-medium;

  @media (max-width: 640px) {
    @apply text-base;
  }
}

@utility contact-info {
  @apply flex flex-col sm:flex-row justify-center items-center gap-4 mb-4;

  @media (max-width: 640px) {
    @apply gap-2;
  }
}

@utility contact-item {
  @apply flex items-center gap-2 text-light-text-secondary dark:text-dark-text-secondary;
  & svg {
    @apply shrink-0;
  }
}

@utility download-section {
  @apply flex justify-center;
}

@utility post {
  & .download-button {
    @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold leading-none bg-light-text-primary dark:bg-dark-text-primary text-light-bg dark:text-dark-bg border-2 border-light-text-primary dark:border-dark-text-primary rounded-full cursor-pointer whitespace-nowrap my-4 no-underline;
  }
  & .download-button:hover {
    @apply bg-light-text-secondary dark:bg-dark-text-secondary border-2 border-light-text-secondary dark:border-dark-text-secondary text-light-bg dark:text-dark-bg no-underline;
    box-shadow: 0 4px 12px rgba(165, 165, 165, 0.15);
  }
  & .download-button svg {
    @apply shrink-0 text-light-bg dark:text-dark-bg;
  }

  & .timeline-card .job-description ul {
    @apply list-none;
  }
  & .timeline-card .job-description ul li {
    list-style: none;
  }
  & .timeline-card .job-description li::marker {
    display: none;
  }
}

@utility download-button {
  .post & {
    @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold leading-none bg-light-text-primary dark:bg-dark-text-primary text-light-bg dark:text-dark-bg border-2 border-light-text-primary dark:border-dark-text-primary rounded-full cursor-pointer whitespace-nowrap my-4 no-underline;
  }
  .post &:hover {
    @apply bg-light-text-secondary dark:bg-dark-text-secondary border-2 border-light-text-secondary dark:border-dark-text-secondary text-light-bg dark:text-dark-bg no-underline;
    box-shadow: 0 4px 12px rgba(165, 165, 165, 0.15);
  }
  .post & svg {
    @apply shrink-0 text-light-bg dark:text-dark-bg;
  }
}

@utility timeline-card {
  .post & .job-description ul {
    @apply list-none;
  }
  .post & .job-description ul li {
    list-style: none;
  }
  .post & .job-description li::marker {
    display: none;
  }
  .about-me-card & {
    @apply card-base ml-0 rounded-xl p-4;
    transition-property: transform, box-shadow, background-color;
    transition-duration: 300ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  .about-me-card &:hover {
    @apply bg-light-catalogue-item-bg dark:bg-dark-catalogue-item-bg;
    transform: none;
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.1),
      0 1px 2px rgba(0, 0, 0, 0.06);
  }
  @apply card-base rounded-xl p-4 relative;
  transition-property: transform, box-shadow, background-color;
  transition-duration: 300ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  &:hover {
    @apply bg-light-catalogue-bg dark:bg-dark-catalogue-bg;
  }
}

@utility job-description {
  .post .timeline-card & ul {
    @apply list-none;
  }
  .post .timeline-card & ul li {
    list-style: none;
  }
  .post .timeline-card & li::marker {
    display: none;
  }
  @apply mb-4 text-sm;
  & ul {
    @apply list-none pl-0 space-y-2;
  }
  & li {
    @apply relative pl-4 text-light-text-primary dark:text-dark-text-primary leading-relaxed;
  }
  & li::before {
    content: '▸';
    @apply absolute left-0 top-0 text-light-timeline-bg dark:text-dark-timeline-bg font-bold;
  }
}

@utility about-me-card {
  @apply mb-12;
  & .timeline-card {
    @apply card-base ml-0 rounded-xl p-4;
    transition-property: transform, box-shadow, background-color;
    transition-duration: 300ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  & .timeline-card:hover {
    @apply bg-light-catalogue-item-bg dark:bg-dark-catalogue-item-bg;
    transform: none;
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.1),
      0 1px 2px rgba(0, 0, 0, 0.06);
  }
}

@utility about-me-content {
  & p {
    @apply m-0 mb-3 leading-relaxed text-light-text-primary dark:text-dark-text-primary text-base opacity-90 relative pl-6;
  }
  & p::before {
    content: '•';
    @apply absolute left-0 top-0 text-light-timeline-bg dark:text-dark-timeline-bg font-bold text-xl leading-none;
    top: 0.1em;
  }
  & p:last-child {
    @apply mb-0;
  }
}

@utility skills-content {
  @apply space-y-6;
  & .skill-tags {
    @apply flex flex-wrap gap-2;
  }
}

@utility skills-category-title {
  &:first-child {
    @apply mt-0;
  }
  @apply text-lg font-semibold text-light-text-primary dark:text-dark-text-primary mb-2;
}

@utility skill-tags {
  .skills-content & {
    @apply flex flex-wrap gap-2;
  }
  @apply flex flex-wrap gap-2;
}

@utility timeline-items {
  @apply relative;
  &::before {
    content: '';
    @apply absolute left-2.5 top-0 bottom-0 w-0.5 bg-light-timeline-bg dark:bg-dark-timeline-bg z-10;
  }
}

@utility timeline-item {
  @apply relative mb-8 ml-5 pl-8;
  &::before {
    content: '';
    @apply absolute w-3 h-3 bg-light-timeline-bg dark:bg-dark-timeline-bg rounded-full border-2 border-light-bg dark:border-dark-bg;
    left: -0.95rem;
    top: 1.5rem;
    z-index: 20;
  }

  @media (max-width: 768px) {
    @apply ml-3 pl-6;
    &::before {
      left: -0.45rem;
    }
  }
}

@utility timeline-header {
  @apply flex items-start gap-4 mb-4;

  @media (max-width: 768px) {
    @apply flex-col items-start gap-2;
  }
}

@utility company-logo {
  @apply w-16 h-16 rounded-lg object-cover shrink-0;
  border-radius: 8px;
  border: 2px solid var(--border);
}

@utility timeline-info {
  @apply flex-1 min-w-0 self-center;
}

@utility company-name {
  @apply text-lg font-bold leading-tight text-light-text-primary dark:text-dark-text-primary m-0 mb-1;
  & a {
    @apply text-light-link dark:text-dark-link no-underline hover:underline inline-flex items-center gap-1;
  }

  @media (max-width: 768px) {
    @apply text-center;
  }
}

@utility external-link-icon {
  @apply w-3 h-3 opacity-70;
}

@utility job-role {
  @apply text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary;

  @media (max-width: 768px) {
    @apply text-center;
  }
}

@utility job-meta {
  @apply flex flex-wrap gap-4 mb-4 text-sm text-light-text-secondary dark:text-dark-text-secondary;
  & > * + * {
    @apply pl-4 border-l border-light-border dark:border-dark-border;
  }

  @media (max-width: 768px) {
    @apply gap-2 justify-center;
  }
}

@utility job-date {
  @apply inline-flex items-center gap-1;
  & svg {
    @apply w-3 h-3 shrink-0;
  }
}

@utility job-location {
  @apply inline-flex items-center gap-1;
  & svg {
    @apply w-3 h-3 shrink-0;
  }
}

@utility job-skills {
  @apply flex flex-col items-start gap-2;
}

@utility skills-label {
  @apply text-sm text-light-text-primary dark:text-dark-text-primary pt-1;
  font-weight: 600;

  @media (max-width: 768px) {
    @apply pt-0;
  }
}

@utility skill-tag {
  @apply inline-block px-3 py-1 text-xs font-medium bg-light-catalogue-bg dark:bg-dark-catalogue-bg text-light-text-secondary dark:text-dark-text-secondary border border-light-border dark:border-dark-border rounded-full;
}

@utility languages-content {
  @apply p-0;
}

@utility language-items {
  @apply flex flex-wrap gap-6 justify-around;
}

@utility language-item {
  @apply flex flex-col items-center text-center;
}

@utility language-flag {
  @apply text-3xl mb-2;
}

@utility language-name {
  @apply text-lg font-semibold text-light-text-primary dark:text-dark-text-primary;
}

@utility language-level {
  @apply text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1 px-2 py-1 bg-light-catalogue-bg dark:bg-dark-catalogue-bg rounded-md;
}

@layer components {

  #about-me, #skills, #experience, #education, #languages { @apply text-xl md:text-2xl font-semibold; }
}


/* === css/components/post.css === */
@utility post-meta {
  @apply flex items-center gap-4 whitespace-nowrap w-full text-light-text-secondary dark:text-dark-text-secondary;
  & time {
    @apply inline-flex items-center gap-4;
  }
  & .day {
    @apply inline-flex items-center gap-1;
  }
  & .reading {
    @apply inline-flex items-center gap-1;
  }
  & .found-typo {
    @apply inline-flex items-center gap-1;
  }
  & .found-typo {
    @apply ml-auto;
  }
  & svg {
    @apply w-3 h-3;
  }
}

@utility day {
  .post-meta & {
    @apply inline-flex items-center gap-1;
  }
}

@utility reading {
  .post-meta & {
    @apply inline-flex items-center gap-1;
  }
}

@utility found-typo {
  .post-meta & {
    @apply inline-flex items-center gap-1;
  }
  .post-meta & {
    @apply ml-auto;
  }
}

@utility post-title {
  @apply text-3xl md:text-4xl font-extrabold tracking-tight text-light-text-primary dark:text-dark-text-primary mt-4 mb-2 pt-2 pb-1;
}

@utility post-subtitle {
  @apply text-lg md:text-xl font-medium text-light-text-secondary dark:text-dark-text-secondary mt-1 mb-2 pt-0;

  .post & {
    @apply font-medium;
  }
}

@utility post {
  /* Post typography */
  & a {
    @apply text-light-link dark:text-dark-link no-underline hover:underline;
  }
  & h1 {
    @apply text-light-text-primary dark:text-dark-text-primary;
  }
  & h2 {
    @apply text-light-text-primary dark:text-dark-text-primary;
  }
  & h3 {
    @apply text-light-text-primary dark:text-dark-text-primary;
  }
  & h4 {
    @apply text-light-text-primary dark:text-dark-text-primary;
  }
  & h5 {
    @apply text-light-text-primary dark:text-dark-text-primary;
  }
  & h6 {
    @apply text-light-text-primary dark:text-dark-text-primary;
  }
  & h1 {
    @apply text-3xl md:text-4xl font-bold;
  }
  & h2 {
    @apply text-2xl md:text-3xl font-bold;
  }
  & h3 {
    @apply text-xl md:text-2xl font-semibold;
  }
  & h4 {
    @apply text-lg md:text-xl font-semibold;
  }
  & h5 {
    @apply text-base md:text-lg font-medium;
  }
  & h6 {
    @apply text-sm md:text-base font-medium;
  }

  & .post-subtitle {
    @apply font-medium;
  }
  & p {
    @apply leading-relaxed;
  }
  & ul {
    @apply list-disc pl-6;
  }
  & ol {
    @apply list-decimal pl-6;
  }
  & hr {
    @apply my-8 border-t border-light-border dark:border-dark-border;
  }
  & img {
    @apply rounded-md my-6;
  }
  & .book-cover img {
    @apply m-0 rounded-none;
  }

  /* Code */
  & pre {
    @apply bg-light-code-bg dark:bg-dark-code-bg rounded-lg p-4 overflow-x-auto text-sm leading-relaxed dark:text-dark-text-accent;
  }
  & pre code {
    @apply bg-transparent p-0 dark:text-dark-text-accent;
  }
  & :not(pre) > code {
    @apply px-1.5 py-0.5 rounded text-[0.9em] font-mono whitespace-nowrap;
    background: theme('colors.light-code-inline-bg');
    color: theme('colors.light-text-accent');
    /* Hide literal backticks if present inside inline code */
    position: relative;
  }
  .dark & :not(pre) > code {
    background: theme('colors.dark-code-inline-bg');
    color: theme('colors.dark-text-accent');
  }
  & :not(pre) > code::before {
    content: none;
  }
  & :not(pre) > code::after {
    content: none;
  }
  /* Keep inline code unwrapped; pre handles long code blocks */
  & p > code + a {
    @apply inline whitespace-nowrap align-baseline;
  }
  & li > code + a {
    @apply inline whitespace-nowrap align-baseline;
  }
  & p > code + a svg {
    @apply inline-block align-middle;
  }
  & li > code + a svg {
    @apply inline-block align-middle;
  }

  & blockquote {
    @apply my-6;
  }
}

@utility book-cover {
  .post & img {
    @apply m-0 rounded-none;
  }
}

@utility dark {
  & .post :not(pre) > code {
    background: theme('colors.dark-code-inline-bg');
    color: theme('colors.dark-text-accent');
  }
}


