{% extends "base.html" %}

{% block scripts %}
<!-- Preload first blog post thumbnails for homepage LCP -->
{% set first_posts = section.pages | slice(end=2) %}
{% for page in first_posts %}
  {% if page.extra.static_thumbnail %}
  <link rel="preload" as="image" href="{{ get_url(path=page.extra.static_thumbnail) | safe }}" fetchpriority="high">
  {% endif %}
{% endfor %}
{% endblock scripts %}

{% block seo -%}
  {{ super() }}

  {%- set home = config.extra.expressions.home | default(value="Home") -%}
  {% set og_title = home -%}

  {% if config.title -%}
    {% set title = home ~ " | " ~ config.title -%}
  {% else -%}
    {% set title = home -%}
  {% endif -%}

  {{ macros::seo(title=title, og_title=og_title, description=description, site_url=site_url, image=image, image_height=image_height, image_width=image_width) }}
{%- endblock seo %}

{% block content %}
  <div class="home-hero">
    <div class="home-hero-inner">
      <img class="home-avatar"
           src="{{ get_url(path='assets/images/profile/jesus-100.webp') | safe }}"
           srcset="{{ get_url(path='assets/images/profile/jesus-100.webp') | safe }} 1x, {{ get_url(path='assets/images/profile/jesus-150.webp') | safe }} 1.5x"
           alt="Jesus Valera Reales"
           width="100" height="100"
           fetchpriority="high">
      <div class="home-hero-text">
        <h1 class="home-name">{{ section.title }}</h1>
        <p class="home-bio">Senior Software Engineer passionate about <strong>clean code</strong>, <strong>architecture</strong>, and <strong>sharing knowledge through technology</strong>.</p>
        <div class="home-social">
          <a href="https://github.com/JesusValeraDev" target="_blank" aria-label="GitHub" title="GitHub" class="home-social-link no-underline">
            <svg width="18" height="18" aria-hidden="true"><use href="{{ get_url(path='assets/icons/sprite.svg') | safe }}#icon-github"></use></svg>
          </a>
          <a href="https://www.linkedin.com/in/jesus-valera-reales/" target="_blank" aria-label="LinkedIn" title="LinkedIn" class="home-social-link no-underline">
            <svg width="18" height="18" aria-hidden="true"><use href="{{ get_url(path='assets/icons/sprite.svg') | safe }}#icon-linkedin"></use></svg>
          </a>
          <a href="{{ get_url(path='work') | safe }}" class="hero-link" title="View my work expecience">View my work experience<span class="arrow">â†’</span></a>
        </div>
      </div>
    </div>
  </div>
  <h2 class="catalogue-section-heading">Latest Posts</h2>
  <div class="catalogue">
    {% for page in section.pages %}
      {{ macros::page(page=page) }}
    {% endfor %}
  </div>
{% endblock content %}
